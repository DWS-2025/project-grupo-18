<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobMatcher - Blog</title>
    <link rel="stylesheet" href="/css/blogStyles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <button class="back-btn" onclick="location.href='main.html'">⬅️ Atrás</button>
        <div class="option-box">
            <a href="options.html" class="button">⚙️ Opciones</a>
        </div>
        <div class="logo">JobMatcher</div>
        <div class="icons">
            <div class="icon">
                <a href="notification.html" class="button">🔔 Notificaciones</a>
            </div>
            <div class="icon">
                <a href="profile.html" class="button">👤 Perfil</a>
            </div>
        </div>
    </header>
    
    <!-- Contenedor para todas las noticias -->
    <main class="container">
        <div id="news-list">
            <!-- Noticias estáticas -->
            <article class="blog-entry">
                <img src="/src/main/resources/img/working.png" alt="Entry 1 image" class="entry-image">
                <div class="entry-content">
                    <h2><a href="news1.html?id=1">Título de la Noticia 1</a></h2>
                    <p>Este es un breve extracto de la primera noticia. Continúa leyendo para conocer más detalles...</p>
                </div>
            </article>
            
            <article class="blog-entry">
                <img src="/src/main/resources/img/working.png" alt="Entry 2 image" class="entry-image">
                <div class="entry-content">
                    <h2><a href="entry2.html">Título de la Noticia 2</a></h2>
                    <p>Resumen breve de la segunda noticia, destacando información clave para captar la atención del lector.</p>
                </div>
            </article>
            
            <article class="blog-entry">
                <img src="/src/main/resources/img/working.png" alt="Entry 3 image" class="entry-image">
                <div class="entry-content">
                    <h2><a href="entry3.html">Título de la Noticia 3</a></h2>
                    <p>Descripción inicial de la tercera noticia con un adelanto del contenido completo disponible en el enlace.</p>
                </div>
            </article>
        </div>
        <!-- Botón para subir una nueva noticia, siempre debajo de las noticias -->
        <div class="admin-actions">
            <button class="btn admin-btn" onclick="location.href='newArticle.html'">
                Subir Noticia Nueva
            </button>
        </div>
    </main>
    
    <script>
      // Recupera las noticias almacenadas en localStorage
      const noticiasGuardadas = JSON.parse(localStorage.getItem('noticias')) || [];
      
      // Ubica el contenedor donde se listarán las noticias dinámicas
      const newsList = document.getElementById('news-list');
      
      // Se recorre cada noticia guardada y se añade al contenedor
      noticiasGuardadas.forEach((noticia, index) => {
        const article = document.createElement('article');
        article.className = 'blog-entry';
        
        // Se incluye un enlace en el título para poder ver el detalle de la noticia
        article.innerHTML = `
          <img src="/src/main/resources/img/working.png" alt="Imagen de la noticia" class="entry-image">
          <div class="entry-content">
            <h2><a href="news1.html?id=${index}">${noticia.titulo}</a></h2>
            <p>${noticia.contenido.substring(0, 100)}...</p>
          </div>
        `;
        newsList.appendChild(article);
      });
    </script>
</body>
</html>